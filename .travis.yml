sudo: required
dist: trusty

language: haxe

os:
  - linux

# see haxe versions: http://haxe.org/website-content/downloads/versions.json
haxe:
  - "3.4.2"

install:
  - haxelib install actuate
  - haxelib install msignal
  - haxelib install threejs

script:
  - pushd src
  - haxe SkyParticles.hxml debug.hxml
  - haxe SkyParticles.hxml release.hxml
  - popd

# Deploy the generated demo using Travis builtin GitHub Pages support
deploy:
  provider: pages
  skip_cleanup: true
  local_dir: bin/release
  github_token: $GITHUB_API_KEY
  target-branch: gh-pages
  on:
    branch: master